p8105\_hw3\_ak4123
================

``` r
library(p8105.datasets)
data("brfss_smart2010")

brfss_data = brfss_smart2010 %>% 
  janitor::clean_names() %>% 
  filter(topic == "Overall Health") %>% 
  filter(response == "Excellent" | response == "Very good" | response == "Good" | response == "Fair" | response == "Poor") %>% 
  mutate(response = factor(response, levels = ordered(c("Excellent", "Very good", "Good", "Fair", "Poor"))))
```

``` r
brfss_data %>%
  filter(year == 2002) %>% 
  distinct(locationdesc, locationabbr) %>%
  group_by(locationabbr) %>% 
  count() %>% 
  filter(n == 7)
```

    ## # A tibble: 3 x 2
    ## # Groups:   locationabbr [3]
    ##   locationabbr     n
    ##   <chr>        <int>
    ## 1 CT               7
    ## 2 FL               7
    ## 3 NC               7

``` r
##spaghetti plot

brfss_data %>%
  spread(key = response, value = data_value) %>%
  janitor::clean_names() %>% 
  select(year, excellent, locationabbr) %>% 
  filter(!is.na(excellent) & locationabbr == "NY" & (year == "2002" | year == "2006" | year == "2010")) %>%
  group_by(year) %>% 
  summarize(mean_proportion_excellent = mean(excellent), sd_proportion_excellent = sd(excellent)) %>% 
  knitr::kable()
```

|  year|  mean\_proportion\_excellent|  sd\_proportion\_excellent|
|-----:|----------------------------:|--------------------------:|
|  2002|                     24.04000|                   4.486424|
|  2006|                     22.53333|                   4.000833|
|  2010|                     22.70000|                   3.567212|

``` r
#panel plot
```

``` r
library(p8105.datasets)
data("instacart")

instacart = instacart %>% 
janitor::clean_names()
```

The dimensions of this dataset are (1384617, 15). This means there are 1384617 observations (rows) and 15 variables (columns). Some of the key variables include the order identification number, product name (along with an identification number), the department and aisle the product is located in. There is also... "order\_id" "product\_id"
\[3\] "add\_to\_cart\_order" "reordered"
\[5\] "user\_id" "eval\_set"
\[7\] "order\_number" "order\_dow"
\[9\] "order\_hour\_of\_day" "days\_since\_prior\_order" \[11\] "product\_name" "aisle\_id"
\[13\] "department\_id" "aisle"
\[15\] "department"

give illustrative examples of observataions.
--------------------------------------------

``` r
##the aisles with the most orders
instacart %>% 
group_by(aisle) %>% 
  count(order_id) %>% 
arrange(desc(n)) %>% 
  head(7)
```

    ## # A tibble: 7 x 3
    ## # Groups:   aisle [5]
    ##   aisle               order_id     n
    ##   <chr>                  <int> <int>
    ## 1 baby food formula    2188545    28
    ## 2 energy granola bars  1385776    28
    ## 3 tea                  2445873    27
    ## 4 yogurt               2606705    26
    ## 5 cat food care        3363902    24
    ## 6 energy granola bars  2397010    24
    ## 7 baby food formula    2070470    23

There are 134 aisle.

### THE MOST ORDERS NEED TO FIX THIS

aisle order\_id n <chr> <int> <int> 1 baby food formula 2188545 28 2 energy granola bars 1385776 28 3 tea 2445873 27 4 yogurt 2606705 26 5 cat food care 3363902 24 6 energy granola bars 2397010 24 7 baby food formula 2070470 23

``` r
instacart %>% 
  group_by(aisle) %>% 
  summarize(amount_ordered = n()) %>% 
  ggplot(aes(x = aisle, y = amount_ordered)) + 
  geom_point() +
  labs(
     title = "Items ordered in each aisle",
     x = "aisle number",
     y = "number of items ordered"
    )
```

![](p8105_hw3_ak4123_files/figure-markdown_github/question%202%20plots-1.png)

``` r
instacart %>% 
  filter(aisle == "baking ingredients" | aisle == 
           "dog food care" | aisle == "packaged vegetables fruits") %>% 
  group_by(product_name, aisle) %>% 
  summarize(most_ordered = n()) %>% 
arrange(desc(most_ordered)) %>% 
group_by(aisle) %>% 
  top_n( n = 1, wt = most_ordered) %>% 
  select(aisle, product_name, most_ordered) %>% 
  rename(top_product_name = product_name) %>% 
  arrange(aisle) %>% 
  knitr::kable()
```

| aisle                      | top\_product\_name                            |  most\_ordered|
|:---------------------------|:----------------------------------------------|--------------:|
| baking ingredients         | Light Brown Sugar                             |            499|
| dog food care              | Snack Sticks Chicken & Rice Recipe Dog Treats |             30|
| packaged vegetables fruits | Organic Baby Spinach                          |           9784|

\`\`\` \#\# table: mean hour of day {r question 3 data import} library(p8105.datasets) data("ny\_noaa")

The dimensions of this dataset are (2595176, 7). This means there are 2595176 observations (rows) and 7 variables (columns). Some of the key variables include "id" "date" "prcp" "snow" "snwd" "tmax" "tmin" MISSING DATA IS AN ISSUE BC ...

{r question 3 data cleaning} ny\_noaa %&gt;% janitor::clean\_names()

mutate(year = as.numeric(format(datetxt, format = "%Y")) %&gt;%
===============================================================

mutate(month = as.numeric(format(datetxt, format = "%m")) %&gt;%
================================================================

mutate(day = as.numeric(format(datetxt, format = "%d")))
========================================================
